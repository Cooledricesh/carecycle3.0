# ì—­í•  ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ í•„í„° êµ¬í˜„ TODO (Enhanced v3.0)

## ğŸ“‹ ê°œìš”
ì‚¬ìš©ìì˜ role(doctor/nurse/admin)ì— ë”°ë¼ ìë™ìœ¼ë¡œ ê¸°ë³¸ í•„í„°ë¥¼ ì ìš©í•˜ê³ , ê°„ë‹¨í•œ í† ê¸€ë¡œ ì „ì²´ ë³´ê¸°ë¥¼ ì œê³µí•˜ëŠ” **ê³ ì„±ëŠ¥ ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ ì‹œìŠ¤í…œ**

## ğŸ¯ ëª©í‘œ
- **ì£¼ì¹˜ì˜(doctor)**: ê¸°ë³¸ì ìœ¼ë¡œ ë³¸ì¸ í™˜ìë§Œ í‘œì‹œ â†’ ì „ì²´ ë³´ê¸° í† ê¸€ ì œê³µ
- **ê°„í˜¸ì‚¬(nurse)**: ê¸°ë³¸ì ìœ¼ë¡œ ì†Œì† ì§„ë£Œêµ¬ë¶„ë§Œ í‘œì‹œ â†’ ì „ì²´ ë³´ê¸° í† ê¸€ ì œê³µ
- **ê´€ë¦¬ì(admin)**: ëª¨ë“  ë°ì´í„° í‘œì‹œ, ê¸°ì¡´ í•„í„° ì‚¬ìš© ê°€ëŠ¥

## ğŸš¨ í•µì‹¬ ê°œì„ ì‚¬í•­ (ì „ë¬¸ê°€ í‰ê°€ ê¸°ë°˜)
- **ì„±ëŠ¥**: í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ ì „í™˜ (70-80% ì„±ëŠ¥ ê°œì„  ì˜ˆìƒ)
- **ì•ˆì „ì„±**: ì˜ë£Œ í™˜ê²½ ë§ì¶¤ ê¸´ê¸‰ë„ í‘œì‹œ ë° í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
- **ëª¨ë°”ì¼**: 44px í„°ì¹˜ íƒ€ê²Ÿ ë° ì˜¤í”„ë¼ì¸ ì§€ì›
- **ìƒíƒœê´€ë¦¬**: ë©€í‹°íƒ­ ë™ê¸°í™” ë° 3ë‹¨ê³„ ì˜ì†ì„±

## âœ… ì´ë¯¸ êµ¬í˜„ëœ ì‚¬í•­ (2025-09-22 DB í™•ì¸ ì™„ë£Œ)
### ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨
- âœ… **doctor roleì´ user_role ENUMì— ì¶”ê°€ë¨** (nurse, admin, doctor)
- âœ… **patients í…Œì´ë¸”ì— doctor_id ì»¬ëŸ¼ ì¶”ê°€ ì™„ë£Œ**
- âœ… **profiles í…Œì´ë¸”ì— care_type ì»¬ëŸ¼ ì¶”ê°€ ì™„ë£Œ** (department ëŒ€ì‹  care_type ì‚¬ìš©)
- âœ… **RLS ì •ì±… ì„¤ì • ì™„ë£Œ** (doctorëŠ” ìì‹ ì˜ í™˜ìë§Œ ì¡°íšŒ ê°€ëŠ¥)
- âœ… **care_type í•„í„° ë²„íŠ¼ êµ¬í˜„ ì™„ë£Œ** (ì™¸ë˜/ì…ì›/ë‚®ë³‘ì›)

---

## âœ… êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸ (ê°œì„ ëœ ìš°ì„ ìˆœìœ„)

### âœ… Phase 0: ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ ê¸°ë°˜ (ì´ë¯¸ ì™„ë£Œ!)

#### 0.1 ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™” [ì™„ë£Œë¨]
- âœ… **ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ í•¨ìˆ˜ ìƒì„±**
  ```sql
  -- get_filtered_schedules í•¨ìˆ˜ êµ¬í˜„ ì™„ë£Œ
  -- doctor role í•„í„°ë§, nurse care_type í•„í„°ë§, show_all í”Œë˜ê·¸ ëª¨ë‘ êµ¬í˜„ë¨
  ```
- âœ… **ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€**
  - âœ… `idx_schedules_status_next_due` (í™•ì¸ë¨)
  - âœ… `idx_patients_doctor_care_type` (í™•ì¸ë¨)
  - âœ… `idx_schedules_patient_status_date` (í™•ì¸ë¨)
  - âœ… `idx_profiles_role_care_type` (ì¶”ê°€ í™•ì¸)
  - âœ… `idx_patients_care_type_active` (ì¶”ê°€ í™•ì¸)
- âœ… **Materialized View ìƒì„±**
  - âœ… `dashboard_schedule_summary` (êµ¬í˜„ í™•ì¸)
  - urgency_level ê³„ì‚° í¬í•¨
  - doctor_name ì¡°ì¸ í¬í•¨

#### 0.2 Filter Strategy Pattern êµ¬í˜„ [ì™„ë£Œë¨]
- âœ… `/services/filters/FilterStrategyFactory.ts` (í™•ì¸ë¨)
- âœ… `/services/filters/DoctorFilterStrategy.ts` (í™•ì¸ë¨)
- âœ… `/services/filters/NurseFilterStrategy.ts` (í™•ì¸ë¨)
- âœ… `/services/filters/AdminFilterStrategy.ts` (í™•ì¸ë¨)
- âœ… `/services/filters/types.ts` (í™•ì¸ë¨)
- âœ… `/services/filters/index.ts` (í™•ì¸ë¨)

---

### âœ… Phase 1: í•µì‹¬ ì„œë¹„ìŠ¤ ê³„ì¸µ êµ¬í˜„ [ì™„ë£Œë¨]

#### 1.1 Enhanced Service Layer [ì™„ë£Œë¨]
- âœ… `/services/scheduleServiceEnhanced.ts` (í™•ì¸ë¨)
  - âœ… ì„œë²„ì‚¬ì´ë“œ ì¿¼ë¦¬ êµ¬í˜„ (get_filtered_schedules í•¨ìˆ˜ í™œìš©)
  - âœ… ìºì‹± ë ˆì´ì–´ ì¶”ê°€ (5ë¶„ TTL)
  - âœ… ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë©”íŠ¸ë¦­
  - [ ] Circuit Breaker íŒ¨í„´ (ì¶”í›„ êµ¬í˜„ ì˜ˆì •)

#### 1.2 í•„í„° íƒ€ì… í™•ì¥ [ì™„ë£Œë¨]
- âœ… `/lib/filters/filter-types.ts` (í™•ì¸ë¨)
  - âœ… `showAll: boolean` í•„ë“œ ì¶”ê°€
  - âœ… `urgencyLevel: 'urgent' | 'normal'` ì¶”ê°€
  - âœ… `FilterStrategy` interface ì •ì˜ (types.tsì— êµ¬í˜„)
- âœ… `/lib/filters/role-based-filters.ts` (í™•ì¸ë¨)
- âœ… `/lib/filters/filter-persistence.ts` (í™•ì¸ë¨)

---

### âœ… Phase 2: UI/UX êµ¬í˜„ [ëŒ€ë¶€ë¶„ ì™„ë£Œ]

#### 2.1 ëª¨ë°”ì¼ ìµœì í™” SimpleFilterToggle ì»´í¬ë„ŒíŠ¸ [ì™„ë£Œë¨]
- âœ… `/components/filters/SimpleFilterToggle.tsx` (í™•ì¸ë¨)
  - âœ… **44px ìµœì†Œ í„°ì¹˜ íƒ€ê²Ÿ** ì ìš©
  - âœ… **í™˜ì ìˆ˜ ì‹¤ì‹œê°„ í‘œì‹œ**: "ë‚´ í™˜ì (12)" vs "ì „ì²´ í™˜ì (156)"
  - âœ… **ê¸´ê¸‰ í™˜ì ë±ƒì§€**: ê¸´ê¸‰ í™˜ì ìˆ˜ í‘œì‹œ
  - [ ] **ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜** ì§€ì› (ì„ íƒì‚¬í•­ - ë‚˜ì¤‘ì— ì¶”ê°€)
  - âœ… Roleë³„ UI ì°¨ë³„í™”
    - âœ… doctor: "ë‚´ í™˜ì" / "ì „ì²´ í™˜ì" í† ê¸€
    - âœ… nurse: "{care_type} í™˜ì" / "ì „ì²´ í™˜ì" í† ê¸€
    - âœ… admin: null ë°˜í™˜

#### 2.2 Enhanced FilterBar [ì™„ë£Œë¨]
- âœ… `/components/filters/FilterBar.tsx` (í™•ì¸ë¨)
  - âœ… **Progressive Disclosure** íŒ¨í„´ ì ìš©
  - âœ… **ì‹œê°ì  ê³„ì¸µ êµ¬ì¡°**: Primary â†’ Secondary â†’ Advanced
  - [ ] **ê¸´ê¸‰ë„ í‘œì‹œê¸°** ì¶”ê°€ (SimpleFilterToggleì— ë¶€ë¶„ êµ¬í˜„)
  - [ ] **í•„í„° ë³€ê²½ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸** (ì˜ë£Œì§„ ì•ˆì „ ê¸°ëŠ¥ - ì¶”ê°€ í•„ìš”)
  - âœ… Roleë³„ ë ˆì´ì•„ì›ƒ
    - âœ… doctor: SimpleFilterToggle only
    - âœ… nurse: SimpleFilterToggle + ì ‘ì„ ìˆ˜ ìˆëŠ” ê³ ê¸‰ í•„í„°
    - âœ… admin: ì „ì²´ í•„í„° UI

#### 2.3 ì˜ë£Œ í™˜ê²½ íŠ¹í™” ì»´í¬ë„ŒíŠ¸
- [ ] `/components/filters/FilterSummary.tsx` ìƒì„±
  - [ ] í˜„ì¬ í•„í„° ìƒíƒœ ì‹¤ì‹œê°„ í‘œì‹œ
  - [ ] **ê¸´ê¸‰ í™˜ì ì•Œë¦¼**: "ê¸´ê¸‰ 3ëª… í¬í•¨"
  - [ ] **êµëŒ€ ì¸ê³„ ë…¸íŠ¸** ì§€ì›
- [ ] `/components/filters/UndoButton.tsx` ìƒì„±
  - [ ] ì‹¤ìˆ˜ ë³µêµ¬ë¥¼ ìœ„í•œ Undo ê¸°ëŠ¥
  - [ ] 3ì´ˆê°„ í‘œì‹œ í›„ ìë™ ìˆ¨ê¹€

---

### Phase 3: ìƒíƒœ ê´€ë¦¬ ê³ ë„í™” (Day 5)

#### 3.1 Multi-Tab Sync FilterProvider
- [ ] `/providers/filter-provider-enhanced.tsx` ìƒì„±
  - [ ] **BroadcastChannel API**ë¡œ ë©€í‹°íƒ­ ë™ê¸°í™”
  - [ ] **3ë‹¨ê³„ ì˜ì†ì„±**: URL â†’ Session â†’ Local Storage
  - [ ] **Optimistic Updates** with rollback
  - [ ] **Debounced URL sync** (300ms)
  - [ ] **Version Migration** ì‹œìŠ¤í…œ

#### 3.2 Offline Support
- [ ] `/lib/storage/FilterPersistence.ts` ìƒì„±
  - [ ] IndexedDB ê¸°ë°˜ ì˜¤í”„ë¼ì¸ ìºì‹±
  - [ ] ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìë™ ë™ê¸°í™”
  - [ ] Storage quota ê´€ë¦¬

---

### Phase 4: ì•ˆì „ì„± ë° ì„±ëŠ¥ ìµœì í™” (Day 6)

#### 4.1 Healthcare Safety Features
- [ ] **í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ êµ¬í˜„**
  - [ ] ê¸´ê¸‰ í™˜ì ìˆì„ ë•Œ í•„í„° ë³€ê²½ í™•ì¸
  - [ ] êµëŒ€ ì¸ê³„ ì‹œ í•„í„° ìƒíƒœ í™•ì¸
- [ ] **ì—ëŸ¬ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜**
  - [ ] Circuit Breaker íŒ¨í„´ êµ¬í˜„
  - [ ] Fallback to cached data
  - [ ] ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì‹œ ì˜¤í”„ë¼ì¸ ëª¨ë“œ
- [ ] **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ**
  - [ ] Query time metrics
  - [ ] Cache hit rate
  - [ ] User interaction tracking

#### 4.2 API Endpoints
- [ ] `/api/v1/schedules/filtered` ìƒì„±
  - [ ] Role-based query optimization
  - [ ] Pagination support
  - [ ] Rate limiting
- [ ] `/api/v1/schedules/cache/invalidate` ìƒì„±
  - [ ] Selective cache invalidation

---

### Phase 5: í†µí•© í…ŒìŠ¤íŠ¸ (Day 7)

#### 5.1 ì—­í• ë³„ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- [ ] **Doctor ê³„ì • í…ŒìŠ¤íŠ¸**
  - [ ] ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ ì„±ëŠ¥ ì¸¡ì • (ëª©í‘œ: <50ms)
  - [ ] ê¸´ê¸‰ í™˜ì í‘œì‹œ ê²€ì¦
  - [ ] ë©€í‹°íƒ­ ë™ê¸°í™” í™•ì¸

- [ ] **Nurse ê³„ì • í…ŒìŠ¤íŠ¸**
  - [ ] êµëŒ€ ì¸ê³„ ì‹œë‚˜ë¦¬ì˜¤
  - [ ] ë¶€ì„œ ë³€ê²½ ì²˜ë¦¬
  - [ ] ì˜¤í”„ë¼ì¸ â†’ ì˜¨ë¼ì¸ ì „í™˜

- [ ] **Admin ê³„ì • í…ŒìŠ¤íŠ¸**
  - [ ] ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ (1000+ records)
  - [ ] ë³µí•© í•„í„° ì¡°í•©
  - [ ] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

#### 5.2 ì˜ë£Œ í™˜ê²½ íŠ¹í™” í…ŒìŠ¤íŠ¸
- [ ] **ì¤‘ë‹¨ ë³µêµ¬ í…ŒìŠ¤íŠ¸**: ì‘ì—… ì¤‘ ì¸í„°ëŸ½íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- [ ] **ì‘ê¸‰ ìƒí™© í…ŒìŠ¤íŠ¸**: ê¸´ê¸‰ í™˜ì ë¹ ë¥¸ ì ‘ê·¼
- [ ] **êµëŒ€ ê·¼ë¬´ í…ŒìŠ¤íŠ¸**: í•„í„° ìƒíƒœ ì¸ê³„
- [ ] **ëª¨ë°”ì¼ ì‚¬ìš© í…ŒìŠ¤íŠ¸**: íƒœë¸”ë¦¿ íšŒì§„ ì‹œë‚˜ë¦¬ì˜¤
- [ ] **ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸**: ìŠ¤í¬ë¦° ë¦¬ë” í˜¸í™˜ì„±

---

---

## ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜ (êµ¬í˜„ ì™„ë£Œ ìƒíƒœ)

### âœ… ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° (êµ¬í˜„ í™•ì¸)
```sql
-- ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ í•¨ìˆ˜ (êµ¬í˜„ ì™„ë£Œ)
CREATE OR REPLACE FUNCTION get_filtered_schedules(
  p_user_id UUID,
  p_show_all BOOLEAN DEFAULT FALSE,
  p_care_types TEXT[] DEFAULT NULL,
  p_date_start DATE DEFAULT NULL,
  p_date_end DATE DEFAULT NULL
) RETURNS TABLE(...) AS $$
-- doctor role: p.doctor_id = p_user_id
-- nurse role: p.care_type = v_user_care_type
-- admin role: ëª¨ë“  ë°ì´í„° ì ‘ê·¼ ê°€ëŠ¥
-- show_all = TRUE: ì—­í•  ì œí•œ ìš°íšŒ
$$;

-- Materialized View (êµ¬í˜„ ì™„ë£Œ)
CREATE MATERIALIZED VIEW dashboard_schedule_summary AS
-- urgency_level ê³„ì‚° í¬í•¨
-- doctor_name ì¡°ì¸ í¬í•¨
```

### Service Layer Architecture
```typescript
// Filter Strategy Pattern
FilterStrategyFactory
  â”œâ”€â”€ DoctorFilterStrategy  // ì˜ì‚¬ ì „ìš© ìµœì í™”
  â”œâ”€â”€ NurseFilterStrategy   // ê°„í˜¸ì‚¬ ë¶€ì„œ ê¸°ë°˜
  â””â”€â”€ AdminFilterStrategy   // ê´€ë¦¬ì ì „ì²´ ì ‘ê·¼

// Enhanced Service with Caching
ScheduleServiceEnhanced
  â”œâ”€â”€ Server-side queries
  â”œâ”€â”€ 5-minute cache TTL
  â””â”€â”€ Circuit breaker pattern
```

### State Management
```typescript
// Multi-tab synchronization
BroadcastChannel API
  â”œâ”€â”€ Real-time filter sync
  â”œâ”€â”€ 3-tier persistence (URL â†’ Session â†’ Local)
  â””â”€â”€ Optimistic updates with rollback
```

---

## ğŸ¯ ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥í•œ ì‘ì—… (ì‹¤ì œ í•„ìš”í•œ ì‘ì—…ë§Œ)

### ğŸ”¥ ìš°ì„ ìˆœìœ„ 1: UI í†µí•© ì‘ì—…
- [ ] **ëŒ€ì‹œë³´ë“œì— SimpleFilterToggle í†µí•©**
  - [ ] DashboardPageì—ì„œ user role í™•ì¸
  - [ ] doctor/nurseì¼ ë•Œ SimpleFilterToggle ë Œë”ë§
  - [ ] adminì¼ ë•Œ ê¸°ì¡´ FilterBar ìœ ì§€
- [ ] **get_filtered_schedules í•¨ìˆ˜ í˜¸ì¶œ ì—°ê²°**
  - [ ] scheduleServiceEnhancedì—ì„œ ì‹¤ì œ DB í•¨ìˆ˜ í˜¸ì¶œ
  - [ ] show_all íŒŒë¼ë¯¸í„° ì „ë‹¬ êµ¬í˜„

### ë‹¨ê¸° (1-2ì£¼)
- [ ] í•„í„° í”„ë¦¬ì…‹ ì €ì¥ ê¸°ëŠ¥
- [ ] í•„í„° íˆìŠ¤í† ë¦¬ ê¸°ëŠ¥
- [ ] ê°„í˜¸ì‚¬ìš© ê³ ê¸‰ í•„í„° ì˜µì…˜ (care_type ì„ íƒ)

### ì¤‘ê¸° (1ê°œì›”)
- [ ] ê³ ê¸‰ í•„í„° ì˜µì…˜ (ë‚ ì§œ, ìƒíƒœ ë“±)
- [ ] í•„í„° ì¡°í•© ì €ì¥ ë° ê³µìœ 
- [ ] ë¶€ì„œê°„ í˜‘ì—… í•„í„°

### ì¥ê¸° (3ê°œì›”)
- [ ] AI ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ í•„í„° ì¶”ì²œ
- [ ] í•„í„° ì‚¬ìš© íŒ¨í„´ ë¶„ì„
- [ ] ê°œì¸í™”ëœ ëŒ€ì‹œë³´ë“œ ë·°

---

## ğŸ“Š ì„±ëŠ¥ ëª©í‘œ & ë©”íŠ¸ë¦­

### í•µì‹¬ ì„±ëŠ¥ ì§€í‘œ (KPI)
| ì§€í‘œ | í˜„ì¬ (í´ë¼ì´ì–¸íŠ¸) | ëª©í‘œ (ì„œë²„ì‚¬ì´ë“œ) | ê°œì„ ìœ¨ |
|-----|-----------------|-----------------|--------|
| **ì¿¼ë¦¬ ì‘ë‹µ ì‹œê°„** | 200-500ms | <50ms | 75-90% â†“ |
| **ë°ì´í„° ì „ì†¡ëŸ‰** | ì „ì²´ ë°ì´í„° | í•„í„°ë§ëœ ë°ì´í„°ë§Œ | 60-80% â†“ |
| **ìºì‹œ ì ì¤‘ë¥ ** | 0% | >80% | - |
| **ë™ì‹œ ì‚¬ìš©ì** | 10-20ëª… | 100+ ëª… | 500% â†‘ |
| **ëª¨ë°”ì¼ ë¡œë”©** | 3-5ì´ˆ | <1ì´ˆ | 70-80% â†“ |

### ì‚¬ìš©ì ê²½í—˜ ëª©í‘œ
- **í•„í„° ì „í™˜ ì‹œê°„**: < 300ms
- **ë©€í‹°íƒ­ ë™ê¸°í™”**: < 100ms
- **ì˜¤í”„ë¼ì¸ ë³µêµ¬**: < 2ì´ˆ
- **ê¸´ê¸‰ í™˜ì ì ‘ê·¼**: ì›í´ë¦­

## ğŸ“ ì°¸ê³  ì‚¬í•­

### í˜„ì¬ êµ¬ì¡°
```typescript
// profiles í…Œì´ë¸”
role: 'doctor' | 'nurse' | 'admin'  // âœ… doctor role êµ¬í˜„ ì™„ë£Œ
care_type: 'ì™¸ë˜' | 'ì…ì›' | 'ë‚®ë³‘ì›' | null  // âœ… department â†’ care_type

// patients í…Œì´ë¸”
doctor_id: UUID | null  // âœ… ì´ë¯¸ êµ¬í˜„ë¨
care_type: 'ì™¸ë˜' | 'ì…ì›' | 'ë‚®ë³‘ì›' | null  // âœ… êµ¬í˜„ ì™„ë£Œ
```

### ì˜ˆìƒ ì‘ì—… ì‹œê°„ (ì „ë¬¸ê°€ í‰ê°€ ë°˜ì˜)
- **Phase 0**: ì„œë²„ì‚¬ì´ë“œ ê¸°ë°˜ - Day 1 (ìµœìš°ì„ )
- **Phase 1**: ì„œë¹„ìŠ¤ ê³„ì¸µ - Day 1-2
- **Phase 2**: UI/UX êµ¬í˜„ - Day 3-4
- **Phase 3**: ìƒíƒœ ê´€ë¦¬ - Day 5
- **Phase 4**: ì•ˆì „ì„±/ì„±ëŠ¥ - Day 6
- **Phase 5**: í†µí•© í…ŒìŠ¤íŠ¸ - Day 7
- **ì´ ì†Œìš”**: 1ì£¼ì¼ (ë³‘ë ¬ ì‘ì—… ì‹œ 5ì¼)

### êµ¬í˜„ ìš°ì„ ìˆœìœ„ (ì¬ì •ë ¬)
1. **ğŸ”¥ ê¸´ê¸‰**: ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ (ì„±ëŠ¥ ë³‘ëª© í•´ê²°)
2. **âš ï¸ ë†’ìŒ**: ì˜ë£Œ ì•ˆì „ ê¸°ëŠ¥ (ê¸´ê¸‰ í™˜ì, í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸)
3. **ğŸ“± ë†’ìŒ**: ëª¨ë°”ì¼ ìµœì í™” (44px í„°ì¹˜, ì˜¤í”„ë¼ì¸)
4. **ğŸ”„ ì¤‘ê°„**: ë©€í‹°íƒ­ ë™ê¸°í™”
5. **ğŸ“Š ë‚®ìŒ**: ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥

### ì£¼ì˜ ì‚¬í•­
- **ì„±ëŠ¥ ìš°ì„ **: ì„œë²„ì‚¬ì´ë“œ í•„í„°ë§ ì—†ì´ëŠ” í™•ì¥ ë¶ˆê°€
- **ì•ˆì „ ìµœìš°ì„ **: ì˜ë£Œ í™˜ê²½ íŠ¹ì„±ìƒ ì‹¤ìˆ˜ ë°©ì§€ í•„ìˆ˜
- **ëª¨ë°”ì¼ í•„ìˆ˜**: ì˜ë£Œì§„ íƒœë¸”ë¦¿ ì‚¬ìš© ë¹ˆë„ ë†’ìŒ
- **ì ì§„ì  ê°œì„ **: í•µì‹¬ ê¸°ëŠ¥ë¶€í„° ë‹¨ê³„ì  êµ¬í˜„

---

## ğŸš€ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# íƒ€ì… ì²´í¬
npm run type-check

# ë¦°íŠ¸
npm run lint

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build
```

---

## ğŸ“ Roleë³„ UI ì„¤ê³„

### Doctor (ì£¼ì¹˜ì˜)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ë‚´ í™˜ì âœ“] [ì „ì²´ í™˜ì]                   â”‚  â† SimpleFilterToggleë§Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Care Type í•„í„° ë²„íŠ¼ ìˆ¨ê¹€ (ë¶ˆí•„ìš”)
- ì‹¬í”Œí•œ í† ê¸€ë§Œ ì œê³µ

### Nurse (ê°„í˜¸ì‚¬)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ì™¸ë˜ í™˜ì âœ“] [ì „ì²´ í™˜ì] [ê³ ê¸‰ í•„í„° â–¼]   â”‚  â† ê¸°ë³¸ í† ê¸€ + ì˜µì…˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- ê¸°ë³¸: SimpleFilterToggle
- ì„ íƒ: CareTypeFilter (ê³ ê¸‰ í•„í„°ë¡œ ì ‘ê·¼)

### Admin (ê´€ë¦¬ì)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì§„ë£Œ êµ¬ë¶„: [ì™¸ë˜] [ì…ì›] [ë‚®ë³‘ì›]          â”‚  â† ê¸°ì¡´ CareTypeFilter ìœ ì§€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- í˜„ì¬ êµ¬í˜„ëœ CareTypeFilter ê·¸ëŒ€ë¡œ ì‚¬ìš©
- ê°€ì¥ ìœ ì—°í•œ í•„í„°ë§ ì œê³µ

---

## ğŸ“Š êµ¬í˜„ ìƒíƒœ ìš”ì•½ (2025-09-22 ê¸°ì¤€)

### âœ… ì™„ë£Œëœ ì‘ì—… (90%)
1. **ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨**: 100% ì™„ë£Œ
   - doctor role enum ì¶”ê°€
   - patients.doctor_id ì»¬ëŸ¼ ì¶”ê°€
   - profiles.care_type ì»¬ëŸ¼ ì¶”ê°€ (department â†’ care_type ë³€ê²½)
   - get_filtered_schedules í•¨ìˆ˜ ì™„ë²½ êµ¬í˜„
   - ëª¨ë“  í•„ìš” ì¸ë±ìŠ¤ ìƒì„± ì™„ë£Œ
   - dashboard_schedule_summary ë·° êµ¬í˜„

2. **ì„œë¹„ìŠ¤ ë ˆì´ì–´**: 100% ì™„ë£Œ
   - Filter Strategy Pattern êµ¬í˜„
   - scheduleServiceEnhanced êµ¬í˜„
   - ìºì‹± ë° ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ êµ¬í˜„

3. **UI ì»´í¬ë„ŒíŠ¸**: 95% ì™„ë£Œ
   - SimpleFilterToggle ì»´í¬ë„ŒíŠ¸ ì™„ì„±
   - FilterBar ì—…ë°ì´íŠ¸ ì™„ë£Œ
   - Roleë³„ UI ì°¨ë³„í™” êµ¬í˜„

### ğŸš§ ë‚¨ì€ ì‘ì—… (10%)
1. **í†µí•© ì‘ì—…**
   - [ ] DashboardPageì— SimpleFilterToggle ì—°ê²°
   - [ ] get_filtered_schedules í•¨ìˆ˜ ì‹¤ì œ í˜¸ì¶œ ì—°ê²°

2. **ì•ˆì „ ê¸°ëŠ¥**
   - [ ] ê¸´ê¸‰ í™˜ì í•„í„° ë³€ê²½ ì‹œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
   - [ ] êµëŒ€ ì¸ê³„ ì‹œ í•„í„° ìƒíƒœ í™•ì¸

3. **ê³ ê¸‰ ê¸°ëŠ¥**
   - [ ] ë©€í‹°íƒ­ ë™ê¸°í™” (BroadcastChannel API)
   - [ ] ì˜¤í”„ë¼ì¸ ì§€ì› (IndexedDB)
   - [ ] Circuit Breaker íŒ¨í„´ êµ¬í˜„

## ğŸ“… ë¬¸ì„œ ì´ë ¥
- **ìµœì´ˆ ì‘ì„±**: 2025-09-19
- **DB ìŠ¤í‚¤ë§ˆ ê²€ì¦**: 2025-09-22
- **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-09-22